// OTB_UCommandSidebar React Component
//
// Generated by IC STRATEGY
//
// WARNING: Do not change this code; it will be overwritten by the next generation run!
//          Change the code only in the Visual Paradigm Project.

import React from 'react';
import * as _ from 'lodash';
var DomainAPI = require('../domain-entity/DomainAPI');
import OTB_UCommandCategoryOpen from './OTB_UCommandCategoryOpen';

class OTB_UCommandSidebar extends React.Component {
   constructor(props) {
       super(props);
   };
   static defaultProps = {
           user: null,
           application: null
   };
   render() {
       var self = this;
       if (true){ 
           return(
               <ul className={"u-command-sidebar " + 'sidebar2 dark fixed-left'} style={self.props.style ||{"height": "100%"}} >
{                  self.getAllCategories() && self.getAllCategories() ? self.getAllCategories().map(function(item, index) {
                      return(<OTB_UCommandCategoryOpen commandCategory={item} index={index}  key={item.id || index} />);
                  }) : ''}
               </ul>
           );
       } else {
           return (<span />);
       }
   };
   getAllCategories = () => {
       var self = this;
var categories = self.props.user.get('ownCommandCategories');
var defCategories = self.props.application.get('appCommandCategories');
var defCommands = self.props.user.get('activeDefaultCommands');
var fc = _.filter(defCategories, function(obj, key){
    var f = _.find(defCommands, function(cObj, cKey){
        return cObj.getLocation().indexOf(key);
    });
    return (f != undefined);
});
categories = categories.concat(fc);
return categories;
   };
   componentDidMount() {
   };
   componentWillUnmount() {
   };
}

export default OTB_UCommandSidebar;
